<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="./styles/index.css">
    <title>tabletop</title>
</head>
<body>
    <div class="game">
        <canvas class="game_canvas js-canvas" width="1000px" height="900"></canvas>
        <div class="game__menu menu">
            <div>Игроки:</div>
            <div class="players js-players"></div>
            <div class="hidden">Ход игрока: <span class="js-currentPlayer"></span></div>
            <div class="hidden">Номер хода: <span class="js-currentTurn"></span></div>
            <div class="hidden">Букв осталось: <span class="js-currentLetters"></span></div>
            <div class="hidden">Победитель: <span class="js-winner"></span></div>

            <div class="menu__points points js-addPoints hidden">
                <button class="points__left js-left"><</button>
                <input type="number" class="points__input js-pointsInput" value="0"/>
                <button class="points__right js-right">></button>
            </div>
            <div class="menu__controllers controllers">
                <button class="hidden js-nextTurn">Закончить ход</button>
                <button class="hidden js-end">Закончить игру</button>
                <button id="js-startGame">Начать игру</button>
                <p>Ссылка на игру: <span id="js-link"></span></p>
            </div>
            <div class="js-description"></div>
        </div>
    </div>
</body>
<script src="https://cdn.jsdelivr.net/gh/maierfelix/Iroh@b84dde46/dist/iroh-browser.js"></script>
<script src="scripts/game.js"></script>
<!-- <script>
    // test1
    let code = `
        function testFunc(name) {
            let products = [],
            i;

            for (i in products) {
                if(products.hasOwnProperty(i)) {
                }
            }
            let cond = "sd";
            switch (cond) {
                case "one":
                    cond = 5; 
                case "two":
                    cond = 5; 
            }

            return "Hello, " + name;
        }

        testFunc("name");
    `;
    let stage = new Iroh.Stage(code);
    
    let listener = stage.addListener(Iroh.FUNCTION);
    listener.on("return", (e) => {
        console.log(e.name + " => " + e.return);
    });

    eval(stage.script);

</script> -->

<!-- <script>
    let code = `
        var arr = [1, 2, 3  ];
        console.log(arr);

        for(var i = 0; i < arr.length; i++) {
            for(var j = 0; j < arr.length; j++) {
                arr[i] = arr[i] + arr[j];
            }
        }
        console.log(arr);
    `;
    let stage = new Iroh.Stage(code);
    
    let listener = stage.addListener(Iroh.LOOP)
    .on("enter", function(e) {
        console.log(" ".repeat(e.indent) + "вход в цикл");
    })
    .on("leave", function(e) {
        console.log(" ".repeat(e.indent) + "выход из цикла");
    });

    let listener2 = stage.addListener(Iroh.ASSIGN)
    .on("fire", function(e) {
        console.log(e.object);
    })
    

    eval(stage.script);
</script> -->

<script>
    let code = `
        var temp = 0;
        function recursive(i) {
            if(i < 10)
                i = recursive(i + 1);
            
            return i;
        }

        temp = recursive(temp);
    `;
    let stage = new Iroh.Stage(code);
    
    let listener = stage.addListener(Iroh.FUNCTION)
    .on("enter", (e) => {
        console.log(e.arguments);
    });
    
    eval(stage.script);
</script> 

</html>
